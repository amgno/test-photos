---
layout: default
title: Photo Portfolio
---

<div class="container">
    <nav class="sidebar">
        <h1>PHOTOS</h1>
        <ul class="nav-links">
            <li><a href="{{ '/' | relative_url }}" class="active">LIST</a></li>
            <li><a href="#">PORTFOLIO</a></li>
        </ul>
        <div class="language-switch">
            <a href="#" class="active">EN</a> / <a href="#">DE</a>
        </div>
    </nav>
    <main class="content">
        <div class="filters">
            <select id="year-filter" onchange="filterWorks()">
                <option value="">YEAR ▾</option>
                {% assign image_files = site.static_files | where_exp: "file", "file.path contains '/img/'" %}
                {% assign years = image_files | map: "path" | map: "dirname" | uniq | map: "basename" | map: "first" | sort | reverse %}
                {% for year in years %}
                    {% if year.size == 4 and year contains "20" %}
                        <option value="{{ year }}">{{ year }}</option>
                    {% endif %}
                {% endfor %}
            </select>
            <select id="title-filter" onchange="filterWorks()">
                <option value="">TITLE ▾</option>
                {% assign image_files = site.static_files | where_exp: "file", "file.path contains '/img/'" %}
                {% assign locations = image_files | map: "path" | map: "dirname" | uniq | map: "basename" | map: "last" | sort %}
                {% for location in locations %}
                    <option value="{{ location }}">{{ location }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="works-list">
            {% assign image_files = site.static_files | where_exp: "file", "file.path contains '/img/'" %}
            {% assign folders = image_files | map: "path" | map: "dirname" | uniq | sort | reverse %}
            
            {% for folder in folders %}
                {% assign parts = folder | split: "/" | last | split: "-" %}
                {% if parts.size == 2 %}
                    {% assign year = parts[0] %}
                    {% assign location = parts[1] %}
                    <div class="work-row" data-year="{{ year }}" data-title="{{ location }}" onclick="showGallery('{{ folder }}')">
                        <span class="year">{{ year }}</span>
                        <span class="title">{{ location }}</span>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </main>

    <div class="gallery-view">
        <div class="gallery-header">
            <a href="#" class="close-button" onclick="hideGallery(event)">×</a>
        </div>
        <div class="photo-grid"></div>
    </div>
</div>

<script>
function filterWorks() {
    const yearFilter = document.getElementById('year-filter').value;
    const titleFilter = document.getElementById('title-filter').value;
    const works = document.querySelectorAll('.work-row');

    works.forEach(work => {
        const year = work.dataset.year;
        const title = work.dataset.title;
        const showYear = !yearFilter || year === yearFilter;
        const showTitle = !titleFilter || title === titleFilter;
        work.style.display = showYear && showTitle ? '' : 'none';
    });
}

function showGallery(folderPath) {
    const galleryView = document.querySelector('.gallery-view');
    const photoGrid = galleryView.querySelector('.photo-grid');
    
    photoGrid.innerHTML = '';
    
    // Get all images from the folder
    {% assign all_images = site.static_files | where_exp: "file", "file.path contains '/img/'" %}
    const images = [
        {% for image in all_images %}
            {% assign ext = image.extname | downcase %}
            {% if ext == '.jpg' or ext == '.jpeg' or ext == '.png' %}
                {
                    path: "{{ image.path }}",
                    folder: "{{ image.path | split: '/' | reverse | drop: 1 | reverse | join: '/' }}"
                },
            {% endif %}
        {% endfor %}
    ].filter(img => img.folder === folderPath);

    // Add images to gallery
    images.forEach(image => {
        const photoItem = document.createElement('div');
        photoItem.className = 'photo-item';
        photoItem.innerHTML = `<img src="{{ site.baseurl }}${image.path}" loading="lazy">`;
        photoGrid.appendChild(photoItem);
    });

    galleryView.classList.add('active');
    document.body.style.overflow = 'hidden';
}

function hideGallery(event) {
    event.preventDefault();
    const galleryView = document.querySelector('.gallery-view');
    galleryView.classList.remove('active');
    document.body.style.overflow = '';
}
</script> 